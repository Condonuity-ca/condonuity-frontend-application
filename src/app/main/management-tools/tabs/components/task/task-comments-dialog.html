<div fxLayout="row" fxLayoutAlign="space-between center">
  <div mat-dialog-title class="pl-12 mb-8">TASK COMMENTS</div>

  <mat-dialog-actions align="end" class="px-4">
    <button mat-button mat-dialog-close style="margin-top:-38px;min-width: 28px !important;" class="p-0"
      (click)="dismissDialog()">
      <mat-icon class="s-24 condo-red-text">close</mat-icon>
    </button>
  </mat-dialog-actions>

</div>


<mat-dialog-content class="mat-typography" [ngClass.xl]="'comment-scroll'" [ngClass.lg]="'comment-scroll'" [ngClass.md]="'comment-scroll'" [ngClass.sm]="'comment-scroll'" [ngClass.xs]="''"
  style="">
  
  <div class="" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start center" fxLayoutAlign.xs="start">
  <div class="line-height-28 text-left" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'ml-0'" [ngClass.md]="'pr-16 ml-24'"
    [ngClass.sm]="'pr-16 ml-24'" [ngClass.xs]="'mb-16'">
    <div>
      <div class="px-16 pt-12 pb-4 b-r-4" style="background: #f5f5f5">
        <div fxLayout="row" fxLayoutAlign="start end" fxLayoutAlign.xs="start" fxLayout.xs="column">
          <div class="" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-8'" [ngClass.md]="'pr-16 ml-8'"
            [ngClass.sm]="'pr-16 ml-24'" [ngClass.xs]="''">
            <div class="h5"><span class="condo-gray-text">Assigned To:</span>
              <span class="text-boxed"
                *ngFor="let assignee of currentTask.assignedTo;let i = index">{{assignee.clientUserName}}</span>
            </div>
          </div>
          <div fxLayout="column" fxFlex="50" fxLayoutAlign="end end" fxLayoutAlign.xs="start" fxFlex.xs="100"
            fxLayout.xs="column" [ngClass.xs]="'mt-8'">
            <div fxLayout="row" fxFlex.md="100" class="mt-8">
              <div fxLayout="row">
                <div fxLayout="row">
                  <div>
                    <h5 class="p-0 m-0"><span class="condo-gray-text">Priority:</span> <span
                        class="condo-red-text ml-4 mr-8">{{currentTask.priorityText}}</span> | <span
                        class="condo-gray-text ml-8">Status:</span>{{currentTask.statusText}}</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start center" fxLayoutAlign.xs="start">
          <div class="line-height-28 text-justify" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-8'"
            [ngClass.md]="'pr-16 ml-8'" [ngClass.sm]="'pr-16 ml-8'" [ngClass.xs]="'mb-16'">
            <div>
              <p class="h4 pb-0 mb-0">{{currentTask.taskDescription}}</p>
            </div>
          </div>
        </div>



        <div class="mb-16" fxLayout="row" fxLayoutAlign="start end" fxLayoutAlign.xs="start" fxLayout.xs="column">
          <div class="column" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-8'" [ngClass.md]="'pr-16 ml-8'"
            [ngClass.sm]="'pr-16 ml-8'" [ngClass.xs]="''">
              <div>
                <h5 class="p-0 m-0"><span class="condo-gray-text mr-4">Created By: {{currentTask.createdByUser}} | {{currentTask.createdDate}}</span></h5>
              </div>
          </div>
          <div class="column" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-24'" [ngClass.md]="'pr-16 ml-24'"
            [ngClass.sm]="'pr-16 ml-24'" [ngClass.xs]="''">
                    <div>
                    <h5 class="p-0 m-0"><span class="condo-gray-text mr-4">Modified By: {{currentTask.modifiedByUser}} | {{currentTask.modifiedDisplayDate}}</span></h5>
                  </div>
          </div>
          <div fxLayout="column" fxFlex="50" fxLayoutAlign="end end" fxLayoutAlign.xs="start" fxFlex.xs="100"
            fxLayout.xs="column" [ngClass.xs]="'mt-8'">
            <div fxLayout="row" fxFlex.md="100" class="mt-8">
              <div fxLayout="row">
                <div fxLayout="row">
                  <div>
                    <h5 class="p-0 m-0"><span class="condo-gray-text mr-4">No of Comments </span> <span
                        class="comments-bg">{{currentTask.comments.length}}</span></h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="profile-box info-box general mt-16"  fxLayout="column">
    <div *ngFor="let userComment of currentTask.comments">
      <div class="b-r-4">
        <div class="mb-4" fxLayout="row" fxLayoutAlign="start end" fxLayoutAlign.xs="start" fxLayout.xs="column">
          <div class="" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-24'" [ngClass.md]="'pr-16 ml-24'"
            [ngClass.sm]="'pr-16 ml-24'" [ngClass.xs]="''">
            <div class="h5 condo-gray-text">
              <span class="condo-gray-text line-height-28"></span> {{userComment.clientName}}</div>
          </div>
          <div fxLayout="column" fxFlex="50" fxLayoutAlign="end end" fxLayoutAlign.xs="start" fxFlex.xs="100"
            fxLayout.xs="column" [ngClass.xs]="'mt-8'">
            <div fxLayout="row" fxFlex.md="100" class="mt-8">
              <div fxLayout="row">
                <div fxLayout="row">
                  <div>
                    <h5 class="p-0 m-0"><span class="condo-gray-text"></span> <span
                        class="condo-gray-text ml-4 mr-8">{{userComment.createdAtFormattedText}}</span></h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start center" fxLayoutAlign.xs="start">
          <div class="line-height-28 text-justify" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'pr-16 ml-24'"
            [ngClass.md]="'pr-16 ml-24'" [ngClass.sm]="'pr-16 ml-24'" [ngClass.xs]="'mb-16'">
            <div class="mb-24">
              <p class="comment-text-bg mt-8">
                {{userComment.comment}}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


<div>
<div class="" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start center" fxLayoutAlign.xs="start">

  <div class="line-height-28 text-left" fxFlex="100" fxFlex.xs="100" [ngClass.lg]="'mt-16'" [ngClass.md]="'pr-16 ml-24 mt-16'"
    [ngClass.sm]="'pr-16 ml-24 mt-16'" [ngClass.xs]="'mb-16 mt-8'">
    <div>
      <form fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="createThreadform"
        [formGroup]="createCommentform">
        <div>
          <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="start center"
            fxLayoutAlign.sm="start" fxLayoutAlign.xs="start" fxFlex="1 0 auto" class="">
            <mat-form-field appearance="outline" fxFlex="100" class="px-0">
              <mat-label>Comments</mat-label>
              <textarea name="comments" formControlName="userInputComment" matInput type="text" max-rows="3"
                style="height:50px;"></textarea>
            </mat-form-field>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
</div>

<div align="end" class="mt-0 mb-0">
  <button mat-button mat-flat-button mat-accent color="accent" (click)="postComment()"
    [disabled]="createCommentform.invalid" [ngClass.xl]="'mr-16'" [ngClass.lg]="'mr-16'" [ngClass.md]="'mr-16'" [ngClass.sm]="'mr-16'" [ngClass.xs]="'mb-16'" >POST COMMENT</button>
  <button mat-button class="fuse-navy-50" (click)="dismissDialog()">CANCEL</button>
</div>

</mat-dialog-content>







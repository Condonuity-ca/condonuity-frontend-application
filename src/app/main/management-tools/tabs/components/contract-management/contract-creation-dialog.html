<div fxLayout="row" fxLayoutAlign="space-between center">
  <div *ngIf="dialogType == 1" mat-dialog-title class="pl-12">CREATE NEW CONTRACT</div>
  <div *ngIf="dialogType == 2" mat-dialog-title class="pl-12">EDIT CONTRACT</div>
  <mat-dialog-actions align="end" class="mb-12">
    <button mat-button mat-dialog-close style="margin-top:-20px;min-width: 28px !important;" class="p-0">
      <mat-icon class="s-24 condo-red-text" mat-dialog-close>close</mat-icon>
    </button>
  </mat-dialog-actions>

</div>

<mat-dialog-content class="mat-typography">
  <div class="profile-box info-box general" fxLayout="column">
    <form fxLayout="column" name="contractForm" [formGroup]="contractForm">
      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="start center"
        fxLayoutAlign.sm="start" fxLayoutAlign.xs="start" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Contractor Name*</mat-label>
          <input matInput formControlName="vendorName">
          <mat-error>Contractor Name is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Services</mat-label>
          <input matInput formControlName="services">
          <mat-error>Services is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="20" class="px-8">
          <mat-label>Term</mat-label>
          <input matInput formControlName="term">
          <mat-error>Please Enter a Number</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="20" class="px-8">
          <mat-label>Term Units</mat-label>
          <mat-select class="account-selection" formControlName="termUnits" placeholder="Term Units"
            (selectionChange)="termUnitUpdated($event.value)">
            <mat-option value="days">Day(s)</mat-option>
            <mat-option value="months">Month(s)</mat-option>
            <mat-option value="years">Year(s)</mat-option>
          </mat-select>
          <mat-error>Term Units is required</mat-error>
        </mat-form-field>
      </div>

      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="start center"
        fxLayoutAlign.sm="start" fxLayoutAlign.xs="start" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Signed Date</mat-label>
          <input matInput [matDatepicker]="signedDate" formControlName="signedDate" placeholder="Choose a date" readonly>
          <mat-datepicker-toggle matSuffix [for]="signedDate"></mat-datepicker-toggle>
          <mat-datepicker #signedDate></mat-datepicker>
          <mat-error>Date format is invalid</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Expiry Date</mat-label>
          <input matInput [matDatepicker]="expiryDate" formControlName="expiryDate" placeholder="Choose a date" readonly>
          <mat-datepicker-toggle matSuffix [for]="expiryDate"></mat-datepicker-toggle>
          <mat-datepicker #expiryDate></mat-datepicker>
          <mat-error>Date format is invalid</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="40" class="px-8">
          <mat-label>Renewal</mat-label>
          <mat-select class="account-selection" formControlName="renewal" placeholder="Renewal"
            (selectionChange)="renewalUpdated($event.value)">
            <mat-option value="auto">Auto-Renewal </mat-option>
            <mat-option value="manual">Manual-Renewal </mat-option>
          </mat-select>
          <mat-error>Renewal is required</mat-error>
        </mat-form-field>
      </div>

      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="start center"
        fxLayoutAlign.sm="start" fxLayoutAlign.xs="start" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Cost</mat-label>
          <input matInput formControlName="cost">
          <mat-error>Please Enter a Number</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Cost Term</mat-label>
          <mat-select class="account-selection" formControlName="costTerm" placeholder="Cost Term"
            (selectionChange)="costTermUpdated($event.value)">
            <mat-option value="yearly">Yearly </mat-option>
            <mat-option value="monthly">Monthly </mat-option>
            <mat-option value="weekly">Weekly </mat-option>
          </mat-select>
          <mat-error>Cost Term is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="20" class="px-8">
          <mat-label>Including GST?</mat-label>
          <mat-select class="account-selection" formControlName="gstInclusion" placeholder="Including GST?"
            (selectionChange)="gstUpdated($event.value)">
            <mat-option value="yes">Yes </mat-option>
            <mat-option value="no">No </mat-option>
          </mat-select>
          <mat-error>Mandatory field is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="20" class="px-8">
          <mat-label>Cancellation Term</mat-label>
          <input matInput formControlName="cancelTerm">
          <mat-error>Please Enter a Number</mat-error>
        </mat-form-field>
      </div>




      <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutAlign="start center"
        fxLayoutAlign.sm="start" fxLayoutAlign.xs="start" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="20" class="px-8">
          <mat-label>Cancellation Units</mat-label>
          <mat-select class="account-selection" formControlName="cancelUnits" placeholder="Cancellation Units"
            (selectionChange)="cancellationUnitUpdated($event.value)">
            <mat-option value="days">Day(s) </mat-option>
            <mat-option value="months">Months(s) </mat-option>
            <mat-option value="years">Year(s) </mat-option>
          </mat-select>
          <mat-error>Mandatory field is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="30" class="px-8">
          <mat-label>Expected Increase</mat-label>
          <input matInput formControlName="expectIncrease">
          <mat-error>Mandatory field is required</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" fxFlex="50" class="px-8">
          <mat-label>Notes</mat-label>
          <input matInput formControlName="notes">
          <mat-error>Mandatory field is required</mat-error>
        </mat-form-field>

      </div>

    </form>
  </div>

  <mat-dialog-actions align="end" class="mb-0 pb-0 pr-8">
    <button *ngIf="!data.userData" mat-button mat-flat-button mat-accent color="accent"
      [disabled]="contractForm.invalid" (click)="submitContract()">CREATE</button>
    <button *ngIf="data.userData" mat-button mat-flat-button mat-accent color="accent" [disabled]="contractForm.invalid"
      (click)="submitContract()">UPDATE</button>
    <button mat-button mat-dialog-close class="fuse-navy-50">CANCEL</button>

  </mat-dialog-actions>

</mat-dialog-content>
